<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kundenfragebogen – Digitalisierung & KI</title>
  <meta name="description" content="Fragebogen zur Vorbereitung eines Beratungsgesprächs zu Digitalisierung & KI." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
/* Standalone CSS (ohne Build). Setzt deine hellen Design-Standards um. */
:root {
  --background: #ffffff;
  --foreground: #171717;
  --brand-primary: #0ea5e9; /* sky-500/600 */
  --brand-accent: #22c55e;  /* green-500 */
  --brand-muted: #f1f5f9;   /* slate-100 */
  --status-danger: #ef4444; /* red-500 */
  --status-positive: #10b981; /* emerald-500 */
}

/* Grundlayout */
html { background:#f8fafc; color:#0f172a; }
body { background: var(--background); color: var(--foreground); font-family: Arial, Helvetica, sans-serif; }

/* Links & Fokus */
a { color:#0284c7; text-underline-offset:2px; transition: color .15s ease; }
a:hover { color:#0f172a; text-decoration: underline; }
:focus-visible { outline:none; box-shadow: 0 0 0 2px #0f172a, 0 0 0 4px #fff; border-radius: 8px; }

/* Komponenten (ohne @apply) */
.card { border-radius: 16px; border:1px solid #cbd5e1; background:#fff; padding:24px; box-shadow: 0 1px 2px rgba(0,0,0,.06); }

.btn-primary { display:inline-flex; align-items:center; justify-content:center; gap:.5rem; border-radius: 12px; background:#0284c7; color:#fff; padding:.5rem .75rem; font-size: .9rem; font-weight: 600; transition: background .15s ease; }
.btn-primary:hover { background:#0369a1; }
.btn-primary:focus-visible { box-shadow: 0 0 0 2px #0369a1, 0 0 0 4px #fff; }

.btn-secondary { display:inline-flex; align-items:center; justify-content:center; gap:.5rem; border-radius: 12px; background:#f1f5f9; color:#0f172a; padding:.5rem .75rem; font-size:.9rem; font-weight:600; border:1px solid #e2e8f0; transition: background .15s ease; }
.btn-secondary:hover { background:#e2e8f0; }
.btn-secondary:focus-visible { box-shadow: 0 0 0 2px #0f172a, 0 0 0 4px #fff; }

.input-field { width:100%; border-radius: 12px; border:1px solid #cbd5e1; background:#fff; padding:.5rem .75rem; font-size:.9rem; color:#0f172a; box-shadow: 0 1px 0 rgba(0,0,0,.02) inset; transition: border-color .15s ease, box-shadow .15s ease; }
.input-field:focus { border-color:#0284c7; box-shadow: 0 0 0 2px rgba(2,132,199,.25); outline: none; }

.label { font-size:.9rem; font-weight:600; color:#1e293b; }
.help-text { font-size:.9rem; color:#475569; }

/* Stepper/Progress */
.stepper { display:flex; flex-wrap:wrap; align-items:center; gap:.5rem; font-size:.9rem; color:#64748b; }
.pill { border-radius:999px; border:1px solid #cbd5e1; padding:.25rem .75rem; background:#fff; }
.pill.active { background:#f1f5f9; color:#0f172a; border-color:#94a3b8; }
.progress { height:8px; width:100%; border-radius:999px; border:1px solid #cbd5e1; overflow:hidden; background:#f1f5f9; }
.bar { height:100%; background:#0ea5e9; width:0%; transition: width .25s ease; }

/* Repeater */
.repeater-item { border-radius: 12px; border:1px solid #cbd5e1; background:#fff; padding:12px; }
.repeater-toolbar { display:flex; justify-content:flex-end; gap:.5rem; }

/* Utility Ersatz (minimal, da Tailwind via CDN aktiv ist) */
.container { max-width: 64rem; margin-inline:auto; padding: 1.5rem; }
</style>
</head>
<body class="bg-slate-50 text-slate-900">
  <div class="max-w-4xl mx-auto p-6">
    <header class="mb-6 flex items-center gap-4">
      <div class="grid h-12 w-12 place-items-center rounded-xl bg-sky-600 font-extrabold text-white">M</div>
      <div>
        <h1 class="text-2xl font-bold m-0">Vorbereitungsgespräch – Digitalisierung & KI</h1>
        <p class="text-sm text-slate-600">Bitte beantworten Sie die Fragen in Ruhe. Die Daten werden lokal zwischengespeichert und nach dem Absenden sicher übertragen.</p>
      </div>
    </header>

    <div class="card grid gap-6">
      <div class="stepper" id="stepper"></div>
      <div class="progress"><div class="bar" id="bar"></div></div>

      <div id="steps">
        <!-- Basisdaten -->
        <section class="step" data-title="Basisdaten">
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <div>
              <label class="label" for="firma">Firma<span class="text-sky-600"> *</span></label>
              <input class="input-field" id="firma" name="firma" required />
            </div>
            <div>
              <label class="label" for="ansprechpartner">Ansprechperson<span class="text-sky-600"> *</span></label>
              <input class="input-field" id="ansprechpartner" name="ansprechpartner" required />
            </div>
            <div>
              <label class="label" for="email">E‑Mail<span class="text-sky-600"> *</span></label>
              <input class="input-field" id="email" type="email" name="email" required />
            </div>
            <div>
              <label class="label" for="telefon">Telefon</label>
              <input class="input-field" id="telefon" type="tel" name="telefon" />
            </div>
            <div>
              <label class="label" for="web">Website</label>
              <input class="input-field" id="web" type="url" name="web" placeholder="https://…" />
            </div>
            <div>
              <label class="label" for="mitarbeiter">Mitarbeiterzahl (ca.)</label>
              <input class="input-field" id="mitarbeiter" type="number" min="1" step="1" name="mitarbeiter" />
            </div>
          </div>
        </section>

        <!-- Allgemeine Fragen -->
        <section class="step" data-title="Allgemeine Fragen">
          <div class="grid gap-4">
            <div>
              <label class="label" for="q1">1. Was sind die drei wichtigsten Ziele der Schröder und Sohn GmbH?</label>
              <textarea class="input-field" id="q1" name="q1"></textarea>
            </div>
            <div>
              <label class="label" for="q2">2. Welche drei Dinge stören dich aktuell am meisten in deinem Unternehmen?</label>
              <textarea class="input-field" id="q2" name="q2"></textarea>
            </div>
            <div>
              <label class="label" for="q3">3. Wo siehst du derzeit die größten Zeitfresser in deinem Unternehmen?</label>
              <textarea class="input-field" id="q3" name="q3"></textarea>
            </div>
            <div>
              <label class="label" for="q4">4. Welche Rolle spielen zukünftig digitale Technologien in deinem Unternehmen?</label>
              <textarea class="input-field" id="q4" name="q4"></textarea>
            </div>
            <div>
              <label class="label" for="q5">5. Welche Erwartungshaltung hast du an uns?</label>
              <textarea class="input-field" id="q5" name="q5"></textarea>
            </div>
          </div>
        </section>
      </div>

      <div class="flex flex-wrap justify-end gap-2">
        <button class="btn-secondary" type="button" id="prev">Zurück</button>
        <button class="btn-primary" type="button" id="next">Weiter</button>
        <button class="btn-secondary" type="button" id="save">Zwischenspeichern</button>
        <button class="btn-secondary" type="button" id="reset">Zurücksetzen</button>
        <button class="btn-primary" type="button" id="submit" style="display:none">Jetzt absenden</button>
      </div>
    </div>

    <footer class="mt-6 text-xs text-slate-600">© <span id="year"></span> meisterbüro · <a href="#" target="_blank" rel="noopener">Datenschutz</a></footer>
  </div>
<script>
// Minimaler Wizard + Autosave wie zuvor, kompakt gehalten
(function(){
  const $ = (s, ctx=document)=>ctx.querySelector(s);
  const $$ = (s, ctx=document)=>Array.from(ctx.querySelectorAll(s));
  const stepsEl = $('#steps');
  const stepEls = $$('.step', stepsEl);
  const stepper = $('#stepper');
  const bar = $('#bar');
  const prevBtn = $('#prev');
  const nextBtn = $('#next');
  const submitBtn = $('#submit');
  const saveBtn = $('#save');
  const resetBtn = $('#reset');
  const year = $('#year'); if(year) year.textContent = new Date().getFullYear();
  const FORM_KEY = 'fragebogen_digi_ki_light_v1';

  let current = 0;

  function renderStepper(){
    stepper.innerHTML='';
    stepEls.forEach((s,i)=>{
      const pill = document.createElement('div');
      pill.className = 'pill' + (i===current? ' active':'');
      pill.textContent = (i+1)+'. '+(s.dataset.title||'Schritt');
      stepper.appendChild(pill);
    });
  }
  function showStep(i){
    current = Math.max(0, Math.min(i, stepEls.length-1));
    stepEls.forEach((s,idx)=> s.style.display = idx===current ? 'block':'none');
    renderStepper();
    const pct = Math.round((current/(stepEls.length-1))*100);
    if(bar) bar.style.width = pct+'%';
    prevBtn.disabled = current===0;
    nextBtn.style.display = current===stepEls.length-1 ? 'none':'inline-flex';
    submitBtn.style.display = current===stepEls.length-1 ? 'inline-flex':'none';
  }

  function collect(){
    const data = {};
    $$('input,textarea,select').forEach(el=>{
      if(el.type==='checkbox') data[el.id||el.name]=el.checked; else data[el.id||el.name]=el.value||'';
    });
    return data;
  }
  function save(){ localStorage.setItem(FORM_KEY, JSON.stringify(collect())); }
  function load(){ try{ const d=JSON.parse(localStorage.getItem(FORM_KEY)||'null'); if(!d) return; Object.entries(d).forEach(([k,v])=>{ const el = document.getElementById(k) || document.querySelector(`[name="${k}"]`); if(el){ if(el.type==='checkbox') el.checked=!!v; else el.value=v; } }); }catch(e){} }

  nextBtn.addEventListener('click', ()=> showStep(current+1));
  prevBtn.addEventListener('click', ()=> showStep(current-1));
  saveBtn.addEventListener('click', save);
  resetBtn.addEventListener('click', ()=>{ if(confirm('Alle Eingaben löschen?')){ localStorage.removeItem(FORM_KEY); location.reload(); } });
  stepsEl.addEventListener('input', e=>{ if(e.target && (e.target.id||e.target.name)) save(); });

  load();
  showStep(0);
})();
</script>
</body>
</html>
